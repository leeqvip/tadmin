{extend name="layout/base" /} {block name="main"}
<div class="row-content am-cf">
    <div class="row">
        <div class="am-u-sm-12 am-u-md-12 am-u-lg-12">
            <div class="widget am-cf">
                <div class="widget-head am-cf">
                    <div class="widget-title am-fl">添加/编辑</div>
                    <div class="widget-function am-fr">
                        <a href="{:url('tadmin.auth.role')}" class="am-icon-list" title="列表"></a>
                    </div>
                </div>
                <div class="widget-body am-fr">
                    <form class="am-form tpl-form-border-form" method="post" enctype="multipart/form-data"
                        data-am-validator>
                        <div class="am-form-group">
                            <label for="user-name" class="am-u-sm-12 am-form-label am-text-left">角色名称 <span
                                    class="tpl-form-line-small-title">（必填）</span></label>
                            <div class="am-u-sm-12">
                                <input name="name" value="{$role.name ?? ''}" type="text"
                                    class="tpl-form-input am-margin-top-xs" placeholder="请输入角色名称" required="">
                                <small>建议不超过16字。</small>
                            </div>
                        </div>
                        <div class="am-form-group">
                            <label for="user-name" class="am-u-sm-12 am-form-label am-text-left">权限 <span
                                    class="tpl-form-line-small-title">（必填）</span></label>
                            <div class="am-u-sm-12">
                                {foreach $permissions as $permission}
                                <label class="am-checkbox-inline">
                                    <input name="permission_id[]" type="checkbox" value="{$permission.id}"
                                        data-am-ucheck required minchecked="1" {if
                                        in_array($permission.id,$permissionsIds)}checked{/if}> {$permission.name}
                                </label>
                                {/foreach}
                            </div>
                        </div>
                        <div class="am-form-group">
                            <div class="am-u-sm-12 am-u-sm-push-12">
                                <input name="id" value="{$role.id ?? ''}" type="hidden">
                                <button type="submit"
                                    class="am-btn am-btn-primary tpl-btn-bg-color-success ">提交</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{/block}